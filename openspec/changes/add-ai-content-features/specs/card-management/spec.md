## MODIFIED Requirements

### Requirement: 新增卡片

使用者 SHALL 能夠在牌組內新增卡片。

#### Scenario: 開啟新增表單

- **WHEN** 使用者在牌組詳情頁點擊右下角 + 按鈕
- **THEN** 導航至新增卡片頁面
- **AND** 顯示卡片編輯表單

#### Scenario: 填寫正面內容

- **WHEN** 使用者填寫正面欄位
- **THEN** 正面為必填欄位
- **AND** 正面可輸入單字、片語或問題

#### Scenario: AI 生成按鈕

- **WHEN** 使用者在卡片編輯器中
- **AND** 正面欄位已填寫
- **THEN** 顯示「AI 生成」按鈕
- **AND** 點擊後觸發 AI 生成詞義與例句

#### Scenario: 填寫詞義區塊

- **WHEN** 使用者填寫詞義區塊
- **THEN** 每筆詞義包含：中文解釋（必填）
- **AND** 每筆詞義包含：英文例句（選填）
- **AND** 每筆詞義包含：中文例句翻譯（選填）

#### Scenario: 新增詞義區塊

- **WHEN** 使用者點擊「新增詞義」按鈕
- **THEN** 新增一個空白詞義區塊至列表

#### Scenario: 刪除詞義區塊

- **WHEN** 使用者點擊詞義區塊的刪除按鈕
- **AND** 詞義區塊數量大於 1
- **THEN** 該詞義區塊從列表移除

#### Scenario: 詞義區塊最少限制

- **WHEN** 使用者嘗試刪除最後一個詞義區塊
- **THEN** 不允許刪除
- **AND** 刪除按鈕隱藏或停用

#### Scenario: 英文例句語音

- **WHEN** 使用者檢視詞義區塊
- **THEN** 英文例句欄位旁提供播放語音按鈕
- **AND** 點擊後播放該例句的英文發音

#### Scenario: 正面文字語音

- **WHEN** 使用者在卡片編輯器中
- **THEN** 正面欄位旁提供播放語音按鈕
- **AND** 點擊後播放正面文字的英文發音

#### Scenario: 頁首操作

- **WHEN** 使用者在新增卡片頁面
- **THEN** 頁首顯示「取消」按鈕
- **AND** 頁首顯示「儲存」按鈕

#### Scenario: 儲存成功

- **WHEN** 使用者填寫完畢並點擊「儲存」
- **AND** 正面已填寫
- **AND** 至少有一筆詞義的中文解釋已填寫
- **THEN** 卡片建立成功
- **AND** 返回牌組詳情頁（卡片列表）

#### Scenario: 儲存失敗（驗證錯誤）

- **WHEN** 使用者點擊「儲存」
- **AND** 正面為空
- **THEN** 顯示驗證錯誤訊息「請輸入正面內容」
- **AND** 不建立卡片

#### Scenario: 取消新增

- **WHEN** 使用者點擊「取消」
- **THEN** 返回牌組詳情頁
- **AND** 不儲存任何資料
