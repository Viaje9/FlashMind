<fm-page-header title="FlashMind 元件預覽" subtitle="樣式檢查" [sticky]="false">
  <fm-icon-button slot="left" [ariaLabel]="'返回上一頁'">
    <svg
      class="size-5"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <path d="M15 18l-6-6 6-6"></path>
    </svg>
  </fm-icon-button>
  <fm-icon-button slot="right" [ariaLabel]="'通知'" variant="ghost">
    <svg
      class="size-5"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <path d="M18 8a6 6 0 10-12 0c0 7-3 7-3 7h18s-3 0-3-7"></path>
      <path d="M13.73 21a2 2 0 01-3.46 0"></path>
    </svg>
  </fm-icon-button>
</fm-page-header>

<main class="min-h-screen bg-background-light px-4 pb-10">
  <section class="mx-auto w-full max-w-4xl space-y-6 pt-6">
    <div class="rounded-3xl bg-white/90 p-5 shadow-sm ring-1 ring-slate-200/60">
      <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
        <div class="w-full md:flex-1">
          <fm-search-input
            [value]="query()"
            placeholder="搜尋牌組"
            [ariaLabel]="'搜尋牌組'"
            (changed)="onSearch($event)"
          ></fm-search-input>
        </div>
        <fm-button size="md">新增卡片</fm-button>
      </div>
      <p class="mt-3 text-xs text-slate-500">
        @if (query()) {
          目前搜尋：{{ query() }}
        } @else {
          目前搜尋：尚未輸入
        }
      </p>
    </div>

    <div class="grid gap-4 md:grid-cols-2">
      <fm-deck-card
        title="基礎詞彙"
        [newCount]="12"
        [reviewCount]="6"
        [progress]="42"
        [actionLabel]="'開始學習'"
        (actionClick)="onStartDeck('基礎詞彙')"
      ></fm-deck-card>

      <fm-deck-card
        title="商務英文"
        [newCount]="0"
        [reviewCount]="3"
        [progress]="85"
        [actionLabel]="'繼續複習'"
        (actionClick)="onStartDeck('商務英文')"
      ></fm-deck-card>
    </div>

    <div class="flex flex-col gap-3 rounded-2xl bg-white/80 p-4 ring-1 ring-slate-200/60 md:flex-row md:items-center md:justify-between">
      <div class="space-y-1">
        <p class="text-xs font-semibold text-slate-600">最近操作</p>
        <p class="text-sm font-medium text-slate-900">
          @if (lastAction()) {
            {{ lastAction() }}
          } @else {
            尚未開始任何牌組
          }
        </p>
      </div>
      <fm-button variant="secondary" size="sm">查看更多</fm-button>
    </div>
  </section>
</main>
