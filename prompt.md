## 用戶情境與測試 *(必填)*

### User Story 1 — 單字複習（核心體驗） (Priority: P1)

使用者希望能以滑動方式快速記單字，在零碎時間中完成複習。

**優先級說明**:
這是整個應用的核心功能，提供高流暢度與自我節奏的學習體驗。

**獨立測試方式**:
啟動複習畫面，用假資料測試三方向滑動是否影響卡片再現順序。

**驗收情境**:

1. **假設** 使用者進入複習模式，**當** 左滑卡片，**則** 該卡 10–40 分鐘後重現，且明日必出現。
2. **假設** 使用者上滑卡片，**則** 該卡今日不再出現，明日優先出現。
3. **假設** 使用者右滑卡片，**則** 該卡今日不再出現，下次間隔延長至 3–5 天。
4. **假設** 使用者完成所有卡片，**則** 系統顯示「今日完成」畫面。

---

### User Story 2 — 建立與管理牌組 (Priority: P2)

使用者希望能建立不同主題的牌組，例如「旅遊英文」「科技英文」，並分開學習。

**優先級說明**:
幫助使用者依主題組織單字，減少記憶干擾。

**獨立測試方式**:
建立多個牌組並新增不同單字，檢查內容與進度是否獨立。

**驗收情境**:

1. **假設** 使用者建立「旅遊英文」牌組並新增 5 個單字，**則** 該組僅包含這些單字。
2. **假設** 同一單字存在於兩個牌組，**則** 系統視為獨立卡片，進度互不影響。

---

### User Story 3 — AI 協助新增單字 (Priority: P3)

使用者希望輸入英文單字後，系統能自動生成意思、例句與翻譯，並可重生或編輯。

**優先級說明**:
降低輸入成本，讓學習流程更順。

**獨立測試方式**:
輸入單字「run」檢查是否生成多義與例句，並確認可重生與儲存。

**驗收情境**:

1. **假設** 使用者輸入「run」，**當** 按下「產生內容」時，**則** 系統自動生成義項、例句與翻譯。
2. **假設** 使用者按下「重生」，**則** 系統重新生成內容。
3. **假設** 使用者儲存後，**則** 該卡片出現在指定的牌組中。

---

### User Story 4 — 底部導覽列 (Priority: P4)

使用者希望能快速切換主要頁面（首頁／牌組／設定）。

**優先級說明**:
保持簡潔導覽結構，降低學習曲線。

**獨立測試方式**:
開啟 App 檢查三個 icon 功能與顯示狀態。

**驗收情境**:

1. **假設** 使用者點擊「牌組」icon，**則** 切換到牌組頁面。
2. **假設** 使用者進入「複習畫面」，**則** 底部導覽列隱藏。

---

### 邊界情境

* 若同一天內重複遇到相同單字，系統自動略過避免重複。
* 多義字顯示於同一張卡片上，依序呈現各意思與例句。
* 若 AI 生成失敗，允許使用者手動輸入內容。
* 每個牌組獨立運作，進度與內容互不影響。

---

## 需求 *(必填)*

### 功能性需求

* **FR-001**: 系統必須允許使用者建立、命名與刪除牌組。
* **FR-002**: 系統必須允許輸入英文單字並由 AI 自動生成意思、例句與翻譯。
* **FR-003**: 系統必須允許使用者編輯與重生生成內容。
* **FR-004**: 每日自動產生 10 張新卡，使用者可調整上限。
* **FR-005**: 系統必須允許無上限複習並記錄進度。
* **FR-006**: 系統必須支援匿名使用與登入同步。
* **FR-007**: 系統必須顯示「左滑＝忘記」「上滑＝有點難」「右滑＝輕鬆」提示。
* **FR-008**: 系統在複習畫面需支援 Tinder 式滑動動畫。
* **FR-009**: 除複習畫面外，底部固定顯示三個 icon（首頁／牌組／設定），無文字標籤。
* **FR-010**: 系統不需支援聽寫、拼寫或選擇題模式。
* **FR-011**: 系統不需支援圖片與發音功能。

---

### 主要實體

* **User**：匿名或登入帳號，儲存個人進度。
* **牌組（Deck）**：自訂名稱的單字集合，各自擁有獨立排程與統計。
* **Card**：單字單位，含多義、例句與中譯。

---

## 卡片出現邏輯 *(FSRS 風格)*

| 手勢    | 評分        | 當日行為                     | 長期排程              |
| ----- | --------- | ------------------------ | ----------------- |
| 👈 左滑 | Again（忘記） | 當日 10→20→40 分鐘後重現，最多 3 次 | 明日必出現，穩定度降低       |
| 👆 上滑 | Hard（有點難） | 今日不再出現                   | 明日優先出現，間隔略增       |
| 👉 右滑 | Easy（輕鬆）  | 今日不再出現                   | 間隔大幅延長，最高可至 180 天 |

**新卡學習流程**

* 第一次出現時依滑動結果分流：

  * 左滑 → 進入短期迴圈（最多 3 次）
  * 上滑 → 明日優先
  * 右滑 → 直接進長期排程
* 每個牌組獨立排程，不互相影響。
* 若使用者連續大量左滑，系統提示是否暫時降低新卡量。

---

## 非功能性需求 *(必填)*

* **NFR-001**: 以 **手機版畫面優先（mobile-first）** 為設計核心，所有操作以單手可完成為基準。
* **NFR-002**: 介面應適應 iOS / Android 手機尺寸，不需特別支援平板或桌面。
* **NFR-003**: 滑動反應時間需小於 300ms，確保流暢。
* **NFR-004**: 按鈕與手勢區塊需符合最小觸控面積 44×44pt。
* **NFR-005**: 採極簡設計風格，不使用 gamification 或動畫干擾。
* **NFR-006**: 底部導覽列 icon 固定於安全區域，單手可達。

---

## 成功標準 *(必填)*

* **SC-001**: 平均每日複習時間 ≥ 8 分鐘。
* **SC-002**: 兩週內新增單字 ≥ 70 個。
* **SC-003**: 當日到期卡完成率 ≥ 85%。
* **SC-004**: 多義字第一次答對率 ≥ 60%。

---
